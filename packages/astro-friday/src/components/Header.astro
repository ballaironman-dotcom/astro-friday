---
import config from 'virtual:astro-friday-config'
import { getPath } from '../utils/path'
import ThemeToggle from './ThemeToggle.astro'

---

<header class="p-2rem flex gap-1.2rem items-center">
  <a href={getPath('home')}>Home</a>

  <i class="flex-1"></i>

  <nav>
    <ul class="gap-1.2rem grid grid-flow-col">
      {Object.entries(config.navigations).map(([key, item]) => {
        if (key === 'theme-toggle') {
          return (<li style={{ order: config.navigations['theme-toggle']!.order }}><ThemeToggle /></li>)
        }
        return (
          <li style={{ order: item.order ?? 0 }}>
            <a
              href={item.link}
              target={item.external ? '_blank' : '_self'}
              class="hoverable-text"
            >
              {
                item.type === 'icon' && item.icon
                ? (
                    <i class={`${item.icon}`}></i>
                  )
                : (
                    <>
                      <span class="lt-md:hidden">{item.label}</span>
                      {item.icon && <i class={`${item.icon} md:hidden`}></i>}
                    </>
                  )
              }
            </a>
          </li>
        )
      })}
    </ul>
  </nav>

</header>
