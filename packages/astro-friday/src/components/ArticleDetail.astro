---
import type { CollectionEntry } from '../types/content'
import { formatDate } from '../utils/date'

interface Props {
  entry: CollectionEntry
}

const { entry } = Astro.props

---

<div class="mx-auto prose dark:prose-invert">
  <h1>{entry.data.title}</h1>

  <p class="op-50 !-mt-6">
    <span class="text-sm ws-nowrap">
      { formatDate(entry.data.created, false) }
    </span>
    <span
      class="text-xs text-zinc:500 my-auto px-1 py-0.5 align-middle rounded bg-zinc:15 flex-none"
    >{entry.collection}</span>
  </p>

  {
    entry.data.subtitle && (
      <p class="op-50 italic !-mt-6">{entry.data.subtitle}</p>
    )
  }

  {
    entry.data.draft && (
      <p class="text-orange-400 px-4 py-2 border-(l-3px orange-400) bg-orange-400:10">
        This is a draft post, the content may be incomplete. Please check back later.
      </p>
    )
  }
</div>

<article class="mx-auto prose dark:prose-invert">
  <slot />
</article>
